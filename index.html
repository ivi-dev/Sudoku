<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sudoku 1.2.0</title>
	<link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
	<link rel="icon" type="image/x-icon" href="./src/assets/img/favicon.ico">
	<link href="./src/assets/font-awesome/css/fontawesome.min.css" rel="stylesheet">
	<link href="./src/assets/font-awesome/css/solid.min.css" rel="stylesheet">
	<link rel="stylesheet" href="./src/assets/style/css/main.css">
</head>
<body>
	<div id="game">
		<div :class="[{ dark: menus.settings.theme.active === 'Dark' }, 'bg']"></div>
		<div class="prompt-wrap">
	<div :class="[{ 'hidden': !prompts.newGame }, 'prompt', 'new-game']">
	<section class="body">
		By starting a new game you'll lose your
		progress in the current one. Are you sure
		you want to do that?
	</section>
	<footer>
		<button class="yes">Yes</button>
		<button class="no">No</button>
	</footer>
</div>
	<div :class="[{ 'hidden': !prompts.difficultyChange }, 'prompt', 'change-difficulty']">
	<section class="body">
		Changing the difficulty level will start a new game
		and you'll lose your progress in the current one! 
		Are you sure you want to do that?
	</section>
	<footer>
		<button class="yes">Yes</button>
		<button class="no">No</button>
	</footer>
</div>
</div>
		<div id="grid" :class="[{ dark: menus.settings.theme.active === 'Dark' }]">
	<div v-for="subgrid in subgrids" class="subgrid">
		<div v-for="cell in subgrid.cells" 
			 :class="[{ active: activeCell.row === cell.row && activeCell.col === cell.col }, 'cell']"
			 @click="highlightCell(cell)">
			{{ cell.value }}
		</div>
	</div>
</div>

		<div class="hidden-fix-left menu">
	<button class="fixed-button start-new-game" 
		    @click="startNewGame()"
		    title="Start a new game (N)">
		<i class="fa-solid fa-rotate-right"></i>
	</button>
</div>
<div :class="[{ 'hidden-fix-left': !menus.settings.visible }, 'settings', 'menu']">
	<button :class="[{ 'hidden': menus.anyVisible }, 'fixed-button', 'show-settings']" 
		    @click="toggleSettings(true)"
		    title="Settings (S)">
		<i class="fa-solid fa-gear"></i>
	</button>
	<header>
		<i class="fa-solid fa-gear"></i>
		<h1>Settings</h1>
		<button class="close" @click="toggleSettings(false)">
			<i class="fa-solid fa-xmark"></i>
		</button>
	</header>
	<form class="body">
		<div class="setting">
			<label>Difficulty: </label>
			<select class="control difficulty" 
				    @change="askChangeDifficulty()">
				<option v-for="(option, name) in menus.settings.difficulty.options" 
					    :value="name"
					    :selected="name === menus.settings.difficulty.active">
				    {{ name }}
				</option>
			</select>
		</div>
		<div class="setting">
			<label>Theme: </label>
			<select class="control theme" v-model="menus.settings.theme.active">
				<option v-for="theme in menus.settings.theme.options" 
						:value="theme"
						:selected="theme === menus.settings.theme.active">
					{{ theme }}
				</option>
			</select>
		</div>
	</form>
</div>
<div :class="[{ 'hidden-fix-left': !menus.help.visible }, 'help', 'menu']">
	<button :class="[{ 'hidden': menus.anyVisible }, 'fixed-button', 'show-help']" 
		    @click="toggleHelp(true)"
		    title="Help (H)">
		<i class="fa-solid fa-question"></i>
	</button>
	<header>
		<i class="fa-solid fa-question"></i>
		<h1>Help</h1>
		<button class="close" @click="toggleHelp(false)">
			<i class="fa-solid fa-xmark"></i>
		</button>
	</header>
	<section class="body">
		<h1>Introducing Sudoku</h1>
		<p>
			Sudoku (/suːˈdoʊkuː, lit.<i>'digit-single'</i>)
			is a logic-based, combinatorial number-placement puzzle. 
		</p>
		<p>
			A puzzle game by the name of <i>'diabolical magic square'</i>, 
			almost identical to modern Sudoku, was first published in the 
			french newspaper <i>La France</i> on July 6, 1895. Such weekly 
			puzzles were a feature of French newspapers of the time for 
			nearly a decade until disappearing about the time of World War I.
		</p>
		<p>
			The modern Sudoku is thought to be anonymously designed by 
			Howard Garnes, a 74-year-old retired architect and freelance 
			puzzle constructor from Connersville, Indiana. the first modern
			puzzle was published 1979 by <i>Dell Magazines</i> as 
			<i>Number Place</i>.
		</p>
		<p>
			The puzzle was introduced in Japan by Maki Kaji as 
			<i>Sūji wa dokushin ni kagiru</i> (数字は独身に限る), which can be 
			translated as "the digits must be single", or as "the digits are 
			limited to one occurrence". The name was later abbreviated to 
			<i>Sudoku</i> (数独), taking only the first kanji of compound 
			words to form a shorter version.
		</p>
		<h1 data-scroll-target="rules">Rules</h1>
		<p>
			The rules for sudoku are simple. A 9×9 square must be filled in 
			with numbers from 1-9 with no repeated numbers in each line, 
			horizontally or vertically. There are 3×3 squares marked out in 
			the grid, and each of these squares can’t have any repeat numbers 
			either. 
		</p>
		<p>
			Here are some tips to help you out:
			<dl>
				<dt>1. Look for the Easy Solutions</dt>
				<dd>
					Many puzzles will leave one or two blanks either in a 
					line or in a box. A line might be missing a 5 and a 6, 
					but a box along that line will already have a 6 in it, 
					so you know this blank must be a 5, and the other blank 
					must be the 6. The same may be the case for one or two 
					missing numbers in the smaller boxes. Filling these blanks 
					will get you on your way to a solution.
				</dd>
				<dt>2. Seek the Missing Numbers</dt>
				<dd>
					As you fill in the easy solutions, you may start to find 
					other missing numbers that are easy to place. In the above 
					example, the box now has a 5, and that may help you solve 
					that 3×3 area, or might help you solve the lines that cross 
					that area. 
				</dd>
				<dt>3. Keep Scanning the Entire Puzzle</dt>
				<dd>
					If you get stuck, don’t concentrate too hard on one part of 
					the grid. Let your eye scan the puzzle to find another place 
					on the grid with new possibilities. You may find another 
					quick solution.
				</dd>
				<dt>4. Constantly Re-Evaluate the Grid</dt>
				<dd>
					Whenever you place a new number, see if that opens up a new 
					row or box. It might narrow down the possibilities or make 
					another number obvious. If you keep asking yourself which 
					numbers you’re missing in a line or grid, you might find it 
					more quickly.
				</dd>
				<dt>5. Be Patient and Enjoy the Hunt</dt>
				<dd>
					Remember that although you want to finish a puzzle, the point 
					is to enjoy the challenge and work your brain as you relax. 
					If you find yourself getting frustrated, walk away. Let your 
					mind clear and try again later. The most important thing is 
					to have fun.
				</dd>
			</dl>
		</p>
		<h1>Gameplay</h1>
		<p>
			Playing Sudoku is super easy. First look at the grid and considering 
			the rules of Sudoku described previously, try to find out the number 
			that should go into a particular empty cell. When you've found it, 
			just click the empty cell to highlight it and then type in the number 
			by using your device's keyboard. 
		</p>
		<p>
			Once highlighted, a cell remains so
			allowing you to quickly input a new number if you realize you'd made 
			a mistake. You can unhighlight a cell at any time by pressing the 
			'<i>Esc</i>' key on your device's keyboard. 
		</p>
		<p>
			Continue filling in the missing numbers until you complete the entire 
			grid. When you do so, you'll get an on-screen notification of whether 
			you've completed the puzzle correctly or not. If you made it, 
			congratulations! If you've made a mistake however, dont'y worry, look 
			at the grid again trying to find your mistake and correct it by using 
			the same highlight-and-type approach described above.
		</p>
		<p>
			You can always start a new game with a different grid arrangement
			by clickng on the 
			<button class="fixed-button new-game">
				<i class="fa-solid fa-rotate-right"></i>
			</button> 
			button on the top left of the screen or by pressing the <i>'N'</i> 
			button on your device's keyboard.
		</p>
		<h1>Settings</h1>
		<p>
			You can change some of the game's settings to your liking. To accomplish 
			that, first click on the 
			<button class="fixed-button show-settings">
				<i class="fa-solid fa-gear"></i>
			</button> 
			icon at the top left of the screen or press '<i>S</i>' on your device's
			keyboard, to reveal the settings menu. Then find the setting you're 
			interested in and select the desired value for it. Here are the game's 
			available settings:
			<dl>
				<dt>Difficulty</dt>
				<dd>
					Controls the game's difficulty level. Each step towards 
					'<i>Hard</i>' hides more numbers from the grid, hence the more 
					difficult it is to find a solution to the puzzle. 
					Note, since changing the game's difficulty involves rearranging the 
					grid with new numbers scrapping any progress you've made on the
					current grid, you'll be asked for confirmation before the 
					new setting is applied. Pressing '<i>Cancel</i>' on the on-screen 
					prompt retains the current difficulty setting and the game continues, 
					and pressing <i>'OK'</i> starts a new game with the selected difficulty. 
				</dd>
				<dt>Theme</dt>
				<dd>
					Controls the game's visual appearance. Feel free to try all appearances
					out and find the most pleasing one for you.
				</dd>
			</dl>
		</p>
		<h1>Shortcuts</h1>
		<p>
			There a few shortcut keys at your disposal allowing you to navigate through the 
			game's interface quicker. Here they are:
			<dl>
				<dt>S</dt>
				<dd>
					Opens/closes the '<i>Settings</i>' menu.
				</dd>
				<dt>H</dt>
				<dd>
					Opens/closes the '<i>Help</i>' menu.
				</dd>
				<dt>Esc</dt>
				<dd>
					Closes open menus and unhighlights the currently highlighted
					grid cell.
				</dd>
				<dt>N</dt>
				<dd>
					Starts a new game. Note, since starting a new game will
					scrap the progress you've made during the current one, you'll 
					be prompted for confirmation beofore the new game is started. 
				</dd>
			</dl>
		</p>
	</section>
</div>
		<div class="note-wrap">
	<div v-if="gameComplete === true" 
	 class="note success animate__animated animate__flipInX">
	<div class="icon success">
		<i class="fa-solid fa-circle-check"></i>
	</div>
	<h1>Congrats!</h1> 
	You've completed the game!<br>
	Go ahead and start a new one. Increase the difficulty for
	an extra challenge.
</div>
	<div v-else-if="gameComplete === false" 
	 class="note error animate__animated animate__flipInX">
	<div class="icon error">
		<i class="fa-solid fa-circle-exclamation"></i>
	</div>
	<h1>Sorry!</h1>
	You've made one or more errors filling the grid!<br>
	Find and correct them to complete the game.
</div>
</div>
		<audio id="game-success">
  <source src="src/assets/sound/game-success.mp3" 
          type="audio/wav">
</audio>
<audio id="game-error">
  <source src="src/assets/sound/game-error.mp3" 
          type="audio/wav">
</audio>
	</div>
	<script src="./src/lib/vue-3.2.47-prod.min.js"></script>
	<script src="./src/lib/lodash-full-4.7.15.js"></script>
	<script type="module" src="./src/main.js"></script>
	<script type="module">
		import { initGame } from './src/main.js';
		initGame();
	</script>
</body>
</html>